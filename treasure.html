<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webapps assignment7</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"   
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script> 
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" 
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>
</head>
<body>
    <h1 class="text-center"  style="color:blue" >Treasure hunt by siva bajee babu porandla</h1>
    <p class="text-center"  >Click on the chests to search for treasure</p>
    <p id="chests" class="text-center"  >Number of chests checked is zero</p>
    <p id = "score" class="text-center"  >Score is unknown</p>
    <p id="help" class="text-center"  >Help report</p>
    <div class = "container">
    <div class="image-row d-flex justify-content-center" >
        <div class="col-md-2"><img id = "image1" onclick = "check(0)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2" ><img  id = "image2" onclick = "check(1)" src="treasureicon.png" alt="treasurebox"  style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image3" onclick = "check(2)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image4" onclick = "check(3)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image5" onclick = "check(4)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
      </div>
      <div class="image-row d-flex justify-content-center" >
        <div class="col-md-2"><img  id = "image6" onclick = "check(5)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image7" onclick = "check(6)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image8" onclick = "check(7)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image9" onclick = "check(8)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image10" onclick = "check(9)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
      </div>
      <div class="image-row d-flex justify-content-center" >
        <div class="col-md-2"><img  id = "image11" onclick = "check(10)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image12" onclick = "check(11)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image13" onclick = "help()" src="download.png" alt="help" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image14" onclick = "check(13)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image15" onclick = "check(14)"  src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
      </div>
      <div class="image-row d-flex justify-content-center" >
        <div class="col-md-2"><img  id = "image16" onclick = "check(15)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image17" onclick = "check(16)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image18" onclick = "check(17)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image19" onclick = "check(18)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image20" onclick = "check(19)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
      </div>
      <div class="image-row d-flex justify-content-center" >
        <div class="col-md-2"><img  id = "image21" onclick = "check(20)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image22" onclick = "check(21)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image23" onclick = "check(22)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image24" onclick = "check(23)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
        <div class="col-md-2"><img  id = "image25" onclick = "check(24)" src="treasureicon.png" alt="treasurebox" style="width: 150px;height:110px;"></div>
      </div>
    </div>

    <script>
      let ids = ["image1","image2","image3","image4","image5","image6","image7","image8","image9","image10",
      "image11","image12","image13","image14","image15","image16","image17","image18","image19","image20","image21",
      "image22","image23","image24","image25"]
  
      let chestCount =0;
      let score =0;
      let lastCheck =12;
      let treasureLocation = 18;
      
      function check(position){
        // console.log("Chest Clicked\nPosition: " + position + "	ID: " +ids[position])
        let chest_id = ids[position];
        if (position==treasureLocation){
          document.getElementById(chest_id).src = "treasure (2).jpg"
          score+=1;
        }else{
          document.getElementById(chest_id).src = "Emptytreasure.jpg"
        }
        score += 1;
        chestCount+=1;
        document.getElementById("chests").innerHTML = "Number of chests checked is "+chestCount;
        document.getElementById("score").innerHTML = "Your score  is :: " +score;
        lastCheck = position;
        //just to make sure
        console.log("Chest Count: "+chestCount + "\nScore: "+ score + "\nLast Checked: "+ lastCheck)
      }
      function help(){
        let last_check_row = Math.floor(lastCheck/5);
        let last_check_col = lastCheck%5;
        let treasure_row = Math.floor(treasureLocation/5);
        let treasure_col = treasureLocation%5;
  
        let doc = document.getElementById("help")
        if(treasure_col == last_check_col && treasure_row == last_check_row){
          doc.innerHTML = "You already won, NO help Available"
        }else if(treasure_col == last_check_col){
          score += 2;
          if(treasure_row<last_check_row){
            doc.innerHTML = "UP"
          }
          if(treasure_row>last_check_row){
            doc.innerHTML = "DOWN"
          }
        }else if(treasure_row == last_check_row){
          score += 2;
          if(treasure_col < last_check_col){
            doc.innerHTML = "Left"
          }
          if(treasure_col>last_check_col){
            doc.innerHTML = "Right"
          }
        }else{
          doc.innerHTML = "Sorry NO Help Available"
        }
        document.getElementById("score").innerHTML = "Your score  is :: " +score;
      }
    </script>
      
</body>
</html>
